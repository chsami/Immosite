jQuery(document).ready(function(s){function i(){s("#cd-success").is(":checked")?s(".cd-response-success").addClass("slide-in"):s("#cd-error").is(":checked")?s(".cd-response-error").addClass("is-visible"):s(".cd-response-notification").addClass("is-visible")}var n=s('div[data-type="message"]');s(".cd-form .cd-email").keyup(function(i){13!=i.which&&(n.removeClass("slide-in is-visible"),s(".cd-form").removeClass("is-submitted").find(".cd-loading").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"));var e=s(this),o=e.val(),t=o.indexOf("@");dotPosition=o.lastIndexOf("."),1>t||dotPosition<t+2?s(".cd-form").removeClass("is-active").find(".cd-loading").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"):s(".cd-form").addClass("is-active")}),s(".cd-form .cd-email").on("focus",function(){n.removeClass("slide-in is-visible"),s(".cd-form").removeClass("is-submitted").find(".cd-loading").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),s(".cd-submit").on("click",function(n){if(s(".cd-form").hasClass("is-active")){n.preventDefault();var e=s("#newsletter-form").serialize();console.log(e);var o=(s("input[name=csrfmiddlewaretoken]").val(),"nieuwsbrief/register");4==location.pathname.length?url=""+o+"/":location.pathname.split("/").length-1==3?url="../"+o+"/":location.pathname.split("/").length-1==4?url="../../"+o+"/":location.pathname.split("/").length-1==5&&(url="../../../"+o+"/"),s.ajax({url:url,type:"POST",data:e,success:function(i){void 0==i["message-error"]?(s(".cd-response-success p").text(i["message-success"]),s(".cd-response-success").addClass("slide-in")):(s(".cd-response-error p").text(i["message-error"]),s(".cd-response-error").addClass("slide-in"))},error:function(i){s(".cd-response-error p").text("Er is iets verkeerd gegaan!"),s(".cd-response-error").addClass("slide-in")}}),s(".cd-form").addClass("is-submitted").find(".cd-loading").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){}),s("html").hasClass("no-csstransitions")&&i()}})});